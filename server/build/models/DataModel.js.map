{"version":3,"sources":["../../src/models/DataModel.js"],"names":["DataModel","modelName","singleModel","substring","length","_generateCreateQuery","_generateUpdateQuery","_generateGetQuery","_generateDeleteQuery","condition","message","keys","Object","queryString","keyString","forEach","key","valueString","process","env","NODE_ENV","console","log","newProps","whereKeys","newPropsKeys","propString","prop","whereString","typeOfCondition","type","where","indexOf","modelToCreate","result","Promise","resolve","reject","client","query","then","res","rows","catch","error","modelToUpdate","propsToUpdate","id","userId","response","err"],"mappings":"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","file":"DataModel.js","sourcesContent":["import client from './connection';\n/* eslint-disable no-underscore-dangle */\nconst DataModel = class {\n  constructor(modelName) {\n    this.modelName = modelName;\n    this.singleModel = modelName.substring(0, modelName.length - 1);\n    this._generateCreateQuery = this._generateCreateQuery;\n    this._generateUpdateQuery = this._generateUpdateQuery;\n    this._generateGetQuery = this._generateGetQuery;\n    this._generateDeleteQuery = this._generateDeleteQuery;\n  }\n\n  _generateCreateQuery(condition) {\n    if (!condition) {\n      return { message: 'type error! expecting an object' };\n    }\n    const keys = Object.keys(condition);\n    let queryString = `insert into ${this.modelName}`;\n    let keyString = '(';\n    keys.forEach((key) => {\n      if (keyString === '(') {\n        keyString = `${keyString} \"${key}\"`;\n      } else {\n        keyString = `${keyString}, \"${key}\"`;\n      }\n    });\n    keyString = `${keyString}) values`;\n\n    let valueString = '(';\n    keys.forEach((key) => {\n      if (valueString === '(') {\n        valueString = `${valueString} '${condition[key]}'`;\n      } else {\n        valueString = `${valueString}, '${condition[key]}'`;\n      }\n    });\n    valueString = `${valueString})`;\n    queryString = `${queryString} ${keyString} ${valueString} returning *`;\n\n    if (process.env.NODE_ENV !== 'production') {\n      /* eslint-disable no-console */\n      console.log(queryString);\n    }\n    return queryString;\n  }\n\n  _generateUpdateQuery(newProps, condition) {\n    // console.log(newProps)\n    if (typeof newProps !== 'object' || typeof condition !== 'object') {\n      return { message: 'type error! expecting an object' };\n    }\n    let queryString;\n    // console.log('condition', condition)\n    const whereKeys = Object.keys(condition);\n    const newPropsKeys = Object.keys(newProps);\n    queryString = `update ${this.modelName} set`;\n    let propString = '';\n    newPropsKeys.forEach((prop) => {\n      if (propString === '') {\n        propString = `${propString}\"${prop}\" = '${newProps[prop]}'`;\n      } else {\n        propString = `${propString}, \"${prop}\" = '${newProps[prop]}'`;\n      }\n    });\n\n    let whereString = '';\n    whereKeys.forEach((prop) => {\n      if (whereString === '') {\n        whereString = `${whereString}\"${prop}\" = '${condition[prop]}'`;\n      } else {\n        whereString = `${whereString} and \"${prop}\" = '${condition[prop]}'`;\n      }\n    });\n\n    queryString = `${queryString} ${propString} where ${whereString} returning *`;\n    if (process.env.NODE_ENV !== 'production') {\n      /* eslint-disable no-console */\n      console.log(queryString);\n    }\n    return queryString;\n  }\n\n  _generateGetQuery(condition) {\n    const typeOfCondition = (typeof condition);\n    if (typeOfCondition !== 'string' && typeOfCondition !== 'object' && typeOfCondition !== 'number') {\n      return { message: 'type error!' };\n    }\n\n    let queryString;\n    if (condition === 'all') {\n      queryString = `select * from ${this.modelName}`;\n    } else if (typeof condition === 'number') {\n      queryString = `select * from ${this.modelName} where \"id\" = ${condition}`;\n    } else {\n      /* eslint-disable prefer-destructuring */\n      let type;\n      if (!condition.type) {\n        type = 'and';\n      } else {\n        type = condition.type;\n      }\n      const keys = Object.keys(condition.where);\n      queryString = `select * from ${this.modelName}`;\n      keys.forEach((key) => {\n        if (queryString.indexOf('where') < 0) {\n          queryString = `${queryString} where \"${key}\" = '${condition.where[key]}'`;\n        } else {\n          queryString = `${queryString} ${type} \"${key}\" = '${condition.where[key]}'`;\n        }\n      });\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      /* eslint-disable no-console */\n      console.log(queryString);\n    }\n    return queryString;\n\n    // return 'select all from users where username = \\'john\\'';\n  }\n\n  _generateDeleteQuery(condition) {\n    const typeOfCondition = (typeof condition);\n    if (typeOfCondition !== 'object') {\n      return { message: 'type error! expecting an object' };\n    }\n    let queryString;\n    if (!condition) {\n      queryString = `select all from ${this.modelName}`;\n    } else {\n      const keys = Object.keys(condition.where);\n      queryString = `delete from ${this.modelName}`;\n      keys.forEach((key) => {\n        if (queryString.indexOf('where') < 0) {\n          queryString = `${queryString} where \"${key}\" = '${condition.where[key]}'`;\n        } else {\n          queryString = `${queryString} and \"${key}\" = '${condition.where[key]}'`;\n        }\n      });\n    }\n    queryString = `${queryString} returning *`;\n    if (process.env.NODE_ENV !== 'production') {\n      /* eslint-disable no-console */\n      console.log(queryString);\n    }\n    return queryString;\n  }\n\n  /* eslint-disable prefer-promise-reject-errors */\n  create(modelToCreate) {\n    // create a new model\n    const result = new Promise((resolve, reject) => {\n      const queryString = this._generateCreateQuery(modelToCreate);\n      client.query(queryString)\n        .then((res) => {\n          resolve(res.rows[0]);\n        })\n        .catch(error => reject(error));\n    });\n    return result;\n  }\n\n  update(modelToUpdate, propsToUpdate) {\n    /*\n      propsToUpdate contain the new properties to replace the old ones\n      this method should be called on the particular object to update.\n      which means that before call update you must use the finder methods to\n      get the particular object.\n    */\n    const result = new Promise((resolve, reject) => {\n      if ((typeof propsToUpdate === 'object') && (typeof modelToUpdate === 'object')) {\n        const queryString = this._generateUpdateQuery(propsToUpdate, modelToUpdate);\n        client.query(queryString)\n          .then((res) => {\n            resolve(res.rows[0]);\n          })\n          .catch(error => console.log(error));\n      } else {\n        reject({ message: 'invalid argument passed to update! expects argument1 and argument2 to be objects' });\n      }\n    });\n    return result;\n  }\n\n  findById(id) {\n    // return an object with the given id\n    /* eslint-disable array-callback-return */\n    const result = new Promise((resolve, reject) => {\n      const queryString = this._generateGetQuery(id);\n      client.query(queryString)\n        .then((res) => {\n        // console.log(res.rows[0])\n          resolve(res.rows[0]);\n        })\n        .catch(error => reject(error));\n    });\n    return result;\n  }\n\n  find(condition = 'all') {\n    /* return a single object that meet the condition\n      condition is single object with property where whose value is further\n      an object with key => value pair of the properties of the object to find\n    */\n    const result = new Promise((resolve, reject) => {\n      if (!condition || !condition.where) {\n        reject({ message: 'missing object propertiy \\'where\\' to find model' });\n      } else {\n        const queryString = this._generateGetQuery(condition);\n        client.query(queryString)\n          .then((res) => {\n            resolve(res.rows[0]);\n          })\n          .catch(error => reject(error));\n      }\n    });\n\n    return result;\n  }\n\n  findAll(condition = 'all') {\n    const result = new Promise((resolve, reject) => {\n      const queryString = this._generateGetQuery(condition);\n      client.query(queryString)\n        .then((res) => {\n          resolve(res.rows);\n        })\n        .catch(error => reject(error));\n    });\n    return result;\n  }\n\n  findServiceName() {\n    const result = new Promise((resolve, reject) => {\n      const queryString = `select \"id\", \"serviceName\", \"phone\" from ${this.modelName} where \"isAdmin\" = true`;\n      client.query(queryString)\n        .then((res) => {\n          resolve(res.rows);\n        })\n        .catch(error => reject(error));\n    });\n    return result;\n  }\n\n  getClient(userId) {\n    const result = new Promise((resolve, reject) => {\n      const queryString = `select \"id\", \"fullname\", \"serviceName\", \"email\", \"phone\" from ${this.modelName} where \"id\" = ${userId}`;\n      client.query(queryString)\n        .then((res) => {\n          resolve(res.rows[0]);\n        })\n        .catch(error => reject(error));\n    });\n    return result;\n  }\n\n  destroy(condition) {\n    /*\n      delete the object that meet the condition\n      condition is single object with property where whose value is further\n      an object with key => value pair of the properties of the object to find.\n      if several object match the specified condition, only the first match will\n      be deleted\n    */\n    const result = new Promise((resolve, reject) => {\n      const queryString = this._generateDeleteQuery(condition);\n      client.query(queryString)\n        .then((res) => {\n          const response = res.rows;\n          resolve(response);\n        })\n        .catch(err => reject(err));\n    });\n\n    return result;\n  }\n};\n\nexport default DataModel;\n"]}