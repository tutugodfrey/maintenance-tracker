{"version":3,"sources":["../../src/test/signinTest.js"],"names":["expect","chai","use","chaiHttp","signedInUser","describe","it","request","app","post","send","username","regularUser1","password","then","res","to","have","status","body","be","an","property","message","equal","Object","assign","token","a"],"mappings":"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","file":"signinTest.js","sourcesContent":["import chai from 'chai';\nimport chaiHttp from 'chai-http';\nimport app from './../app';\nimport { regularUser1 } from './signupTest';\n\nconst { expect } = chai;\nchai.use(chaiHttp);\nconst signedInUser = {};\n\nexport default describe('Signin', () => {\n  it('should not signin a user if password is not provided', () => {\n    return chai.request(app)\n      .post('/api/v1/auth/signin')\n      .send({\n        username: regularUser1.username,\n        password: '',\n      })\n      .then((res) => {\n        expect(res).to.have.status(400);\n        expect(res.body).to.be.an('Object');\n        expect(res.body).to.have.property('message');\n        expect(res.body.message).to.equal('missing required field');\n      });\n  });\n\n  it('should not signin a user if username is not provided', () => {\n    return chai.request(app)\n      .post('/api/v1/auth/signin')\n      .send({\n        username: '',\n        password: '123456',\n      })\n      .then((res) => {\n        expect(res).to.have.status(400);\n        expect(res.body).to.be.an('Object');\n        expect(res.body).to.have.property('message');\n        expect(res.body.message).to.equal('missing required field');\n      });\n  });\n\n  it('should not signin a user if password is not correct', () => {\n    return chai.request(app)\n      .post('/api/v1/auth/signin')\n      .send({\n        username: regularUser1.username,\n        password: '134567',\n      })\n      .then((res) => {\n        expect(res).to.have.status(401);\n        expect(res.body).to.be.an('Object');\n        expect(res.body).to.have.property('message');\n        expect(res.body.message).to.equal('authentication fail! check your username or password');\n      });\n  });\n\n  it('should not signin a user if username is not correct', () => {\n    return chai.request(app)\n      .post('/api/v1/auth/signin')\n      .send({\n        username: 'someoneelse',\n        password: '123456',\n      })\n      .then((res) => {\n        expect(res).to.have.status(401);\n        expect(res.body).to.be.an('Object');\n        expect(res.body).to.have.property('message');\n        expect(res.body.message).to.equal('authentication fail! check your username or password');\n      });\n  });\n\n  it('should signin a User in and give a token', () => {\n    return chai.request(app)\n      .post('/api/v1/auth/signin')\n      .send({\n        username: regularUser1.username,\n        password: '123456',\n      })\n      .then((res) => {\n        Object.assign(signedInUser, res.body);\n        expect(res).to.have.status(200);\n        expect(res.body).to.be.an('Object');\n        expect(res.body).to.have.property('token');\n        expect(res.body.token).to.be.a('string');\n      });\n  });\n});\n"]}