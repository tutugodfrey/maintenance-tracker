{"version":3,"sources":["../../src/controllers/AdminController.js"],"names":["requests","models","users","AdminController","req","res","isAdmin","query","status","send","message","findAll","then","allRequests","catch","error"],"mappings":";;;;;;;;AACA;;;;;;;;IAEQA,Q,GAAoBC,e,CAApBD,Q;IAAUE,K,GAAUD,e,CAAVC,K;;AAClB,IAAMC;AAAA;AAAA;AAAA;;AAAA;AAAA;;;AAEJ;AAFI,mCAGkBC,GAHlB,EAGuBC,GAHvB,EAG4B;AAC9B,UAAMC,UAAUF,IAAIG,KAAJ,CAAUD,OAA1B;AACA,UAAIA,YAAY,MAAhB,EAAwB;AACtB,eAAOD,IAAIG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,wBAAX,EAArB,CAAP;AACD;AACD,aAAOV,SACJW,OADI,GAEJC,IAFI,CAEC;AAAA,eAAeP,IAAIG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBI,WAArB,CAAf;AAAA,OAFD,EAGJC,KAHI,CAGE;AAAA,eAAST,IAAIG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBM,KAArB,CAAT;AAAA,OAHF,CAAP;AAID;AAZG;;AAAA;AAAA,GAAN;kBAceZ,e","file":"AdminController.js","sourcesContent":["\r\nimport models from './../models/index';\r\n\r\nconst { requests, users } = models;\r\nconst AdminController = class {\r\n\r\n  // get all request for a logged in user\r\n  static getAllRequests(req, res) {\r\n    const isAdmin = req.query.isAdmin;\r\n    if (isAdmin !== 'true') {\r\n      return res.status(402).send({ message: 'missing required field' });\r\n    }\r\n    return requests\r\n      .findAll()\r\n      .then(allRequests => res.status(200).send(allRequests))\r\n      .catch(error => res.status(500).send(error));\r\n  }\r\n};\r\nexport default AdminController;\r\n"]}