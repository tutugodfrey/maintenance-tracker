{"version":3,"sources":["../../src/controllers/AdminController.js"],"names":["requests","models","users","AdminController","req","res","query","isAdmin","status","send","message","findAll","then","allRequests","catch","error"],"mappings":";;;;;;;;AACA;;;;;;;;IAEQA,Q,GAAoBC,e,CAApBD,Q;IAAUE,K,GAAUD,e,CAAVC,K;;AAClB,IAAMC;AAAA;AAAA;AAAA;;AAAA;AAAA;;;AAEJ;AAFI,mCAGkBC,GAHlB,EAGuBC,GAHvB,EAG4B;AAC9B,UAAID,IAAIE,KAAJ,CAAUC,OAAV,KAAsB,MAA1B,EAAkC;AAChC,eAAOF,IAAIG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,8CAAX,EAArB,CAAP;AACD;AACD,aAAOV,SACJW,OADI,GAEJC,IAFI,CAEC;AAAA,eAAeP,IAAIG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBI,WAArB,CAAf;AAAA,OAFD,EAGJC,KAHI,CAGE;AAAA,eAAST,IAAIG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBM,KAArB,CAAT;AAAA,OAHF,CAAP;AAID;AAXG;;AAAA;AAAA,GAAN;kBAeeZ,e","file":"AdminController.js","sourcesContent":["\r\nimport models from './../models/index';\r\n\r\nconst { requests, users } = models;\r\nconst AdminController = class {\r\n\r\n  // get all request for a logged in user\r\n  static getAllRequests(req, res) {\r\n    if (req.query.isAdmin !== 'true') {\r\n      return res.status(402).send({ message: 'you are not permitted to perform this action'})\r\n    }\r\n    return requests\r\n      .findAll()\r\n      .then(allRequests => res.status(200).send(allRequests))\r\n      .catch(error => res.status(500).send(error));\r\n  }\r\n  \r\n \r\n};\r\nexport default AdminController;\r\n"]}