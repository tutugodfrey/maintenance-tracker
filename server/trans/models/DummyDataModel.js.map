{"version":3,"sources":["../../src/models/DummyDataModel.js"],"names":["DummyDataModel","modelName","singleModel","substring","length","_generateCreateQuery","_generateUpdateQuery","_generateGetQuery","_generateDeleteQuery","condition","message","keys","Object","queryString","keyString","forEach","key","valueString","process","env","NODE_ENV","console","log","newProps","whereKeys","newPropsKeys","propString","prop","whereString","typeOfCondition","type","where","indexOf","modelToCreate","result","Promise","resolve","reject","client","query","then","res","rows","catch","error","modelToUpdate","propsToUpdate","id","response","err"],"mappings":"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","file":"DummyDataModel.js","sourcesContent":["import client from './connection';\r\n\r\n/* eslint-disable no-underscore-dangle */\r\nconst DummyDataModel = class {\r\n  constructor(modelName) {\r\n    /*\r\n    if (!Array.isArray(uniqueKeys) || !Array.isArray(requiredFields)) {\r\n      return { typeError: 'argument2 and argument3 must be of type array' };\r\n    } */\r\n    this.modelName = modelName;\r\n    this.singleModel = modelName.substring(0, modelName.length - 1);\r\n    this._generateCreateQuery = this._generateCreateQuery;\r\n    this._generateUpdateQuery = this._generateUpdateQuery;\r\n    this._generateGetQuery = this._generateGetQuery;\r\n    this._generateDeleteQuery = this._generateDeleteQuery;\r\n  }\r\n\r\n  _generateCreateQuery(condition) {\r\n    if (!condition) {\r\n      return { message: 'type error! expecting an object' };\r\n    } \r\n    const keys = Object.keys(condition);\r\n    let queryString = `insert into ${this.modelName}`;\r\n    let keyString = '(';\r\n    keys.forEach((key) => {\r\n      if (keyString === '(') {\r\n        keyString = `${keyString} ${key}`;\r\n      } else {\r\n        keyString = `${keyString}, ${key}`;\r\n      }\r\n    });\r\n    keyString = `${keyString}) values`;\r\n\r\n    let valueString = '(';\r\n    keys.forEach((key) => {\r\n      if (valueString === '(') {\r\n        valueString = `${valueString} '${condition[key]}'`;\r\n      } else {\r\n        valueString = `${valueString}, '${condition[key]}'`;\r\n      }\r\n    });\r\n    valueString = `${valueString})`;\r\n    queryString = `${queryString} ${keyString} ${valueString} returning *`; \r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      /* eslint-disable no-console */\r\n      console.log(queryString);\r\n    }\r\n    return queryString;\r\n  }\r\n\r\n  _generateUpdateQuery(newProps, condition) {\r\n    // console.log(newProps)\r\n    if (typeof newProps !== 'object' || typeof condition !== 'object') {\r\n      return { message: 'type error! expecting an object' };\r\n    }\r\n    let queryString;\r\n    // console.log('condition', condition)\r\n    const whereKeys = Object.keys(condition);\r\n    const newPropsKeys = Object.keys(newProps);\r\n    queryString = `update ${this.modelName} set`;\r\n    let propString = '';\r\n    newPropsKeys.forEach((prop) => {\r\n      if (propString === '') {\r\n        propString = `${propString}${prop} = '${newProps[prop]}'`;\r\n      } else {\r\n        propString = `${propString}, ${prop} = '${newProps[prop]}'`;\r\n      }\r\n    });\r\n\r\n    let whereString = '';\r\n    whereKeys.forEach((prop) => {\r\n      if (whereString === '') {\r\n        whereString = `${whereString}${prop} = '${condition[prop]}'`;\r\n      } else {\r\n        whereString = `${whereString} and ${prop} = '${condition[prop]}'`;\r\n      }\r\n    });\r\n\r\n    queryString = `${queryString} ${propString} where ${whereString} returning *`;\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      /* eslint-disable no-console */\r\n      console.log(queryString);\r\n    }\r\n    return queryString;\r\n  }\r\n\r\n  _generateGetQuery(condition) {\r\n    const typeOfCondition = (typeof condition);\r\n    if (typeOfCondition !== 'string' && typeOfCondition !== 'object' && typeOfCondition !== 'number') {\r\n      return { message: 'type error!' };\r\n    }\r\n\r\n    let queryString;\r\n    if (condition === 'all') {\r\n      queryString = `select * from ${this.modelName}`;\r\n    } else if (typeof condition === 'number') {\r\n      queryString = `select * from ${this.modelName} where id = ${condition}`;\r\n    } else {\r\n      let type;\r\n      if(!condition.type) {\r\n        type = 'and';\r\n      } else {\r\n        type = condition.type;\r\n      }\r\n      const keys = Object.keys(condition.where);\r\n      queryString = `select * from ${this.modelName}`;\r\n      keys.forEach((key) => {\r\n        if (queryString.indexOf('where') < 0) {\r\n          queryString = `${queryString} where ${key} = '${condition.where[key]}'`;\r\n        } else {\r\n          queryString = `${queryString} ${type} ${key} = '${condition.where[key]}'`;\r\n        }\r\n      });\r\n    }\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      /* eslint-disable no-console */\r\n      console.log(queryString);\r\n    }\r\n    return queryString;\r\n\r\n    // return 'select all from users where username = \\'john\\'';\r\n  }\r\n\r\n  _generateDeleteQuery(condition) {\r\n    const typeOfCondition = (typeof condition);\r\n    if (typeOfCondition !== 'object') {\r\n      return { message: 'type error! expecting an object' };\r\n    }\r\n    let queryString;\r\n    if (!condition) {\r\n      queryString = `select all from ${this.modelName}`;\r\n    } else {\r\n      const keys = Object.keys(condition.where);\r\n      queryString = `delete from ${this.modelName}`;\r\n      keys.forEach((key) => {\r\n        if (queryString.indexOf('where') < 0) {\r\n          queryString = `${queryString} where ${key} = '${condition.where[key]}'`;\r\n        } else {\r\n          queryString = `${queryString} and ${key} = '${condition.where[key]}'`;\r\n        }\r\n      });\r\n    }\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      /* eslint-disable no-console */\r\n      console.log(queryString);\r\n    }\r\n    return queryString;\r\n  }\r\n\r\n  create(modelToCreate) {\r\n    // create a new model\r\n    const result = new Promise((resolve, reject) => {\r\n      const queryString = this._generateCreateQuery(modelToCreate);\r\n      client.query(queryString)\r\n        .then((res) => {\r\n            resolve(res.rows[0]);\r\n        })\r\n        .catch(error => console.log(error));\r\n    });\r\n    return result;\r\n  }\r\n\r\n  update(modelToUpdate, propsToUpdate) {\r\n    /*\r\n      propsToUpdate contain the new properties to replace the old ones\r\n      this method should be called on the particular object to update.\r\n      which means that before call update you must use the finder methods to\r\n      get the particular object.\r\n    */\r\n    const result = new Promise((resolve, reject) => {\r\n      if ((typeof propsToUpdate === 'object') && (typeof modelToUpdate === 'object')) {\r\n        const queryString = this._generateUpdateQuery(propsToUpdate, modelToUpdate);\r\n        client.query(queryString)\r\n          .then((res) => {\r\n              resolve(res.rows[0])\r\n          })\r\n          .catch(error => console.log(error));\r\n      } else {\r\n        reject({ message: 'invalid argument passed to update! expects argument1 and argument2 to be objects' });\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n\r\n  findById(id) {\r\n    // return an object with the given id\r\n    /* eslint-disable array-callback-return */\r\n    const result = new Promise((resolve, reject) => {\r\n      const queryString = this._generateGetQuery(id);\r\n      client.query(queryString)\r\n        .then((res) => {\r\n        // console.log(res.rows[0])\r\n          resolve(res.rows[0]);\r\n        })\r\n        .catch(error => console.log(error));\r\n    });\r\n    return result;\r\n  }\r\n\r\n  find(condition = 'all') {\r\n    /* return a single object that meet the condition\r\n      condition is single object with property where whose value is further\r\n      an object with key => value pair of the properties of the object to find\r\n    */\r\n    const result = new Promise((resolve, reject) => {\r\n      if (!condition || !condition.where) {\r\n        reject({ message: 'missing object propertiy \\'where\\' to find model' });\r\n      } else {\r\n        const queryString = this._generateGetQuery(condition);\r\n        client.query(queryString)\r\n          .then((res) => {\r\n           resolve(res.rows[0]);\r\n          })\r\n         // .catch(error => console.log(error));\r\n      }\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  findAll(condition = 'all') {\r\n    const result = new Promise((resolve, reject) => {\r\n      const queryString = this._generateGetQuery(condition);\r\n      client.query(queryString)\r\n        .then((res) => {\r\n          resolve(res.rows);\r\n        })\r\n        .catch(error => reject(error));\r\n    });\r\n    return result;\r\n  }\r\n\r\n  findServiceName(condition = 'all') {\r\n    const result = new Promise((resolve, reject) => {\r\n    const queryString = 'select servicename from users';\r\n    client.query(queryString)\r\n      .then((res) => {\r\n        resolve(res.rows);\r\n      })\r\n      .catch(error => reject(error));\r\n    });\r\n    return result;\r\n  }\r\n\r\n  destroy(condition) {\r\n    /*\r\n      delete the object that meet the condition\r\n      condition is single object with property where whose value is further\r\n      an object with key => value pair of the properties of the object to find.\r\n      if several object match the specified condition, only the first match will\r\n      be deleted\r\n    */\r\n    const result = new Promise((resolve, reject) => {\r\n      const queryString = this._generateGetQuery(condition);\r\n      const res = client.query(queryString);\r\n      res.then((result) => {\r\n        const response = result.rows;\r\n        resolve(response);\r\n      })\r\n        .catch(err => reject(err));\r\n    });\r\n\r\n    return result;\r\n  }\r\n};\r\n\r\nexport default DummyDataModel;\r\n"]}