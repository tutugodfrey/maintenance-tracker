{"version":3,"sources":["../../src/routes/index.js"],"names":["Routes","UsersController","RequestController","ContactController","AdminController","app","get","req","res","status","sendFile","path","join","__dirname","post","usersUpload","single","signup","signin","secureRoute","getAllRequests","put","rejectRequest","approveRequest","resolveRequest","addRequest","getOneRequest","updateRequest","delete","deleteRequest","addMessage","getMessages"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAEA;AACA,IAAMA;AACJ,oBAAc;AAAA;;AACZ,SAAKC,eAAL,GAAuBA,yBAAvB;AACA,SAAKC,iBAAL,GAAyBA,2BAAzB;AACA,SAAKC,iBAAL,GAAyBA,2BAAzB;AACA,SAAKC,eAAL,GAAuBA,yBAAvB;AACD;AACD;;;AAPI;AAAA;AAAA,2BAQGC,GARH,EAQQ;AACVA,UAAIC,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzBA,YAAIC,MAAJ,CAAW,GAAX,EAAgBC,QAAhB,CAAyBC,eAAKC,IAAL,CAAUC,SAAV,EAAqB,8BAArB,CAAzB;AACD,OAFD;;AAKA;AACAR,UAAIS,IAAJ,CAAS,qBAAT,EAAgCC,qBAAYC,MAAZ,CAAmB,eAAnB,CAAhC,EAAqE,KAAKf,eAAL,CAAqBgB,MAA1F;AACAZ,UAAIS,IAAJ,CAAS,qBAAT,EAAgC,KAAKb,eAAL,CAAqBiB,MAArD;;AAEA;AACAb,UAAIC,GAAJ,CAAQ,kBAAR,EAA4Ba,kBAA5B,EAAyC,KAAKf,eAAL,CAAqBgB,cAA9D;AACAf,UAAIgB,GAAJ,CAAQ,wCAAR,EAAkDF,kBAAlD,EAA+D,KAAKf,eAAL,CAAqBkB,aAApF;AACAjB,UAAIgB,GAAJ,CAAQ,qCAAR,EAA+CF,kBAA/C,EAA4D,KAAKf,eAAL,CAAqBmB,cAAjF;AACAlB,UAAIgB,GAAJ,CAAQ,qCAAR,EAA+CF,kBAA/C,EAA4D,KAAKf,eAAL,CAAqBoB,cAAjF;;AAEA;AACAnB,UAAIS,IAAJ,CAAS,wBAAT,EAAmCK,kBAAnC,EAAgD,KAAKjB,iBAAL,CAAuBuB,UAAvE;AACApB,UAAIC,GAAJ,CAAQ,mCAAR,EAA6Ca,kBAA7C,EAA0D,KAAKjB,iBAAL,CAAuBwB,aAAjF;AACArB,UAAIC,GAAJ,CAAQ,wBAAR,EAAkCa,kBAAlC,EAA+C,KAAKjB,iBAAL,CAAuBkB,cAAtE;AACAf,UAAIgB,GAAJ,CAAQ,mCAAR,EAA6CF,kBAA7C,EAA0D,KAAKjB,iBAAL,CAAuByB,aAAjF;AACAtB,UAAIuB,MAAJ,CAAW,mCAAX,EAAgDT,kBAAhD,EAA6D,KAAKjB,iBAAL,CAAuB2B,aAApF;AACA;AACAxB,UAAIS,IAAJ,CAAS,kBAAT,EAA6BK,kBAA7B,EAA0C,KAAKhB,iBAAL,CAAuB2B,UAAjE;AACAzB,UAAIC,GAAJ,CAAQ,kBAAR,EAA4Ba,kBAA5B,EAAyC,KAAKhB,iBAAL,CAAuB4B,WAAhE;AACD;AAjCG;;AAAA;AAAA,GAAN;;kBAoCe/B,M","file":"index.js","sourcesContent":["import path from 'path';\r\nimport UsersController from './../controllers/UsersController';\r\nimport RequestController from './../controllers/RequestController';\r\nimport ContactController from './../controllers/ContactController';\r\nimport AdminController from './../controllers/AdminController';\r\nimport secureRoute from './../middlewares/getToken';\r\nimport usersUpload from './../middlewares/uploadfile';\r\n\r\n// const requestController = new RequestController();\r\nconst Routes = class {\r\n  constructor() {\r\n    this.UsersController = UsersController;\r\n    this.RequestController = RequestController;\r\n    this.ContactController = ContactController;\r\n    this.AdminController = AdminController;\r\n  }\r\n  /* eslint-disable class-methods-use-thiss */\r\n  routes(app) {\r\n    app.get('/', (req, res) => {\r\n      res.status(200).sendFile(path.join(__dirname, './../../../client/index.html'));\r\n    });\r\n\r\n\r\n    // routes for us\r\n    app.post('/api/v1/auth/signup', usersUpload.single('profile-photo'), this.UsersController.signup);\r\n    app.post('/api/v1/auth/signin', this.UsersController.signin);\r\n\r\n    // admin routes\r\n    app.get('/api/v1/requests', secureRoute, this.AdminController.getAllRequests);\r\n    app.put('/api/v1/requests/:requestId/disapprove', secureRoute, this.AdminController.rejectRequest);\r\n    app.put('/api/v1/requests/:requestId/approve', secureRoute, this.AdminController.approveRequest);\r\n    app.put('/api/v1/requests/:requestId/resolve', secureRoute, this.AdminController.resolveRequest);\r\n\r\n    // user routes\r\n    app.post('/api/v1/users/requests', secureRoute, this.RequestController.addRequest);\r\n    app.get('/api/v1/users/requests/:requestId', secureRoute, this.RequestController.getOneRequest);\r\n    app.get('/api/v1/users/requests', secureRoute, this.RequestController.getAllRequests);\r\n    app.put('/api/v1/users/requests/:requestId', secureRoute, this.RequestController.updateRequest);\r\n    app.delete('/api/v1/users/requests/:requestId', secureRoute, this.RequestController.deleteRequest);\r\n    // routes for contacts model\r\n    app.post('/api/v1/contacts', secureRoute, this.ContactController.addMessage);\r\n    app.get('/api/v1/contacts', secureRoute, this.ContactController.getMessages);\r\n  }\r\n};\r\n\r\nexport default Routes;\r\n"]}