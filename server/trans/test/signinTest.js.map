{"version":3,"sources":["../../src/test/signinTest.js"],"names":["server","Server","app","expressServer","expect","chai","use","chaiHttp","signedInUser","describe","it","request","post","send","username","regularUser1","password","then","res","Object","assign","body","to","have","status","be","an","property","token","a"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA,IAAMA,SAAS,IAAIC,aAAJ,EAAf;AACA,IAAMC,MAAMF,OAAOG,aAAP,EAAZ;IACQC,M,GAAWC,c,CAAXD,M;;AACRC,eAAKC,GAAL,CAASC,kBAAT;AACA,IAAMC,eAAe,EAArB;;kBAEeC,SAAS,QAAT,EAAmB,YAAM;AACtCC,KAAG,0CAAH,EAA+C,YAAM;AACnD,WAAOL,eAAKM,OAAL,CAAaT,GAAb,EACJU,IADI,CACC,qBADD,EAEJC,IAFI,CAEC;AACJC,gBAAUC,yBAAaD,QADnB;AAEJE,gBAAU;AAFN,KAFD,EAMJC,IANI,CAMC,UAACC,GAAD,EAAS;AACbC,aAAOC,MAAP,CAAcZ,YAAd,EAA4BU,IAAIG,IAAhC;AACAjB,aAAOc,GAAP,EAAYI,EAAZ,CAAeC,IAAf,CAAoBC,MAApB,CAA2B,GAA3B;AACApB,aAAOc,IAAIG,IAAX,EAAiBC,EAAjB,CAAoBG,EAApB,CAAuBC,EAAvB,CAA0B,QAA1B;AACAtB,aAAOc,IAAIG,IAAX,EAAiBC,EAAjB,CAAoBC,IAApB,CAAyBI,QAAzB,CAAkC,OAAlC;AACAvB,aAAOc,IAAIG,IAAJ,CAASO,KAAhB,EAAuBN,EAAvB,CAA0BG,EAA1B,CAA6BI,CAA7B,CAA+B,QAA/B;AACD,KAZI,CAAP;AAaD,GAdD;;AAgBAnB,KAAG,qDAAH,EAA0D,YAAM;AAC9D,WAAOL,eAAKM,OAAL,CAAaT,GAAb,EACJU,IADI,CACC,qBADD,EAEJC,IAFI,CAEC;AACJC,gBAAUC,yBAAaD,QADnB;AAEJE,gBAAU;AAFN,KAFD,EAMJC,IANI,CAMC,UAACC,GAAD,EAAS;AACbd,aAAOc,GAAP,EAAYI,EAAZ,CAAeC,IAAf,CAAoBC,MAApB,CAA2B,GAA3B;AACApB,aAAOc,IAAIG,IAAX,EAAiBC,EAAjB,CAAoBG,EAApB,CAAuBC,EAAvB,CAA0B,QAA1B;AACD,KATI,CAAP;AAUD,GAXD;;AAaAhB,KAAG,qDAAH,EAA0D,YAAM;AAC9D,WAAOL,eAAKM,OAAL,CAAaT,GAAb,EACJU,IADI,CACC,qBADD,EAEJC,IAFI,CAEC;AACJC,gBAAU,aADN;AAEJE,gBAAU;AAFN,KAFD,EAMJC,IANI,CAMC,UAACC,GAAD,EAAS;AACbd,aAAOc,GAAP,EAAYI,EAAZ,CAAeC,IAAf,CAAoBC,MAApB,CAA2B,GAA3B;AACApB,aAAOc,IAAIG,IAAX,EAAiBC,EAAjB,CAAoBG,EAApB,CAAuBC,EAAvB,CAA0B,QAA1B;AACD,KATI,CAAP;AAUD,GAXD;AAYD,CA1Cc,C","file":"signinTest.js","sourcesContent":["import chai from 'chai';\r\nimport chaiHttp from 'chai-http';\r\nimport Server from './../app';\r\nimport { regularUser1, regularUser2 } from './signupTest';\r\n\r\nconst server = new Server();\r\nconst app = server.expressServer();\r\nconst { expect } = chai;\r\nchai.use(chaiHttp);\r\nconst signedInUser = {};\r\n\r\nexport default describe('Signin', () => {\r\n  it('should signin a User in and give a token', () => {\r\n    return chai.request(app)\r\n      .post('/api/v1/auth/signin')\r\n      .send({\r\n        username: regularUser1.username,\r\n        password: '1234',\r\n      })\r\n      .then((res) => {\r\n        Object.assign(signedInUser, res.body);\r\n        expect(res).to.have.status(200);\r\n        expect(res.body).to.be.an('Object');\r\n        expect(res.body).to.have.property('token');\r\n        expect(res.body.token).to.be.a('string');\r\n      });\r\n  });\r\n\r\n  it('should not signin a user if password is not correct', () => {\r\n    return chai.request(app)\r\n      .post('/api/v1/auth/signin')\r\n      .send({\r\n        username: regularUser1.username,\r\n        password: '1345',\r\n      })\r\n      .then((res) => {\r\n        expect(res).to.have.status(400);\r\n        expect(res.body).to.be.an('Object');\r\n      });\r\n  });\r\n\r\n  it('should not signin a user if password is not correct', () => {\r\n    return chai.request(app)\r\n      .post('/api/v1/auth/signin')\r\n      .send({\r\n        username: 'someoneelse',\r\n        password: '1344',\r\n      })\r\n      .then((res) => {\r\n        expect(res).to.have.status(400);\r\n        expect(res.body).to.be.an('Object');\r\n      });\r\n  });\r\n});\r\n"]}